(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))n(e);new MutationObserver(e=>{for(const s of e)if(s.type==="childList")for(const c of s.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function o(e){const s={};return e.integrity&&(s.integrity=e.integrity),e.referrerPolicy&&(s.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?s.credentials="include":e.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(e){if(e.ep)return;e.ep=!0;const s=o(e);fetch(e.href,s)}})();let r=[],l=[];const i=400,d={Frutas:"fa-apple-alt",Vegetais:"fa-carrot",Latic√≠nios:"fa-cheese",Oleaginosas:"fa-seedling",Carboidratos:"fa-bread-slice",Prote√≠nas:"fa-egg",Todos:"fa-list-ul"};fetch("alimentos.json").then(t=>{if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);return t.json()}).then(t=>{r=t,u()}).catch(t=>{console.error("ERRO FATAL: N√£o foi poss√≠vel carregar a base de alimentos.",t);const a=document.getElementById("mensagem");a.textContent="‚ùå Erro ao carregar dados. Verifique a localiza√ß√£o do 'alimentos.json'.",a.className="mensagem perigo"});function u(){const t=document.getElementById("categorias-container");t.innerHTML="",["Todos",...new Set(r.map(o=>o.categoria))].forEach(o=>{const n=document.createElement("button");n.className="btn-categoria",n.textContent=o;const e=document.createElement("i");e.className=`fas ${d[o]||"fa-utensils"}`,n.prepend(e),n.onclick=()=>{m(o)},t.appendChild(n)}),m("Todos")}function m(t){document.querySelectorAll(".btn-categoria").forEach(a=>{a.textContent.trim()===t?a.classList.add("active"):a.classList.remove("active")}),f(t)}function f(t){const a=document.getElementById("alimentos-lista");a.innerHTML="";let o=r;if(t!=="Todos"&&(o=r.filter(n=>n.categoria===t)),o.length===0){a.innerHTML='<p style="text-align: center; color: #777;">Nenhum alimento nesta categoria.</p>';return}o.forEach(n=>{const e=document.createElement("div");e.className="item-alimento";const s=r.findIndex(c=>c.nome===n.nome&&c.kcal===n.kcal);e.innerHTML=`
            <span>${n.nome}</span>
            <span class="kcal">${n.kcal} kcal</span>
        `,e.onclick=()=>p(s),a.appendChild(e)})}function p(t){t===void 0||t===-1||(l.push({...r[t]}),g())}function g(){const t=document.getElementById("lancheira"),a=document.getElementById("total"),o=document.getElementById("mensagem");t.innerHTML="";let n=0;if(l.length===0){t.innerHTML='<p style="text-align: center; color: #b1b1b1; margin-top: 20px;">Sua lancheira est√° vazia. Adicione itens!</p>',a.textContent="Total de Calorias: 0 kcal",o.textContent="Monte sua lancheira para come√ßar!",o.className="mensagem",a.style.color="#b1b1b1";return}l.forEach((e,s)=>{const c=document.createElement("li");c.innerHTML=`
            <div class="item-detalhes">
                <span class="item-nome">${e.nome}</span>
                <span class="item-kcal">${e.kcal} kcal</span>
            </div>
            <button class="remover-item-btn" onclick="removerAlimento(${s})">
                <i class="fas fa-trash-alt"></i>
            </button>
        `,t.appendChild(c),n+=e.kcal}),a.textContent=`Total de Calorias: ${n} kcal`,n>i?(o.textContent=`‚ö†Ô∏è Voc√™ ultrapassou o limite de ${i} kcal por ${n-i} kcal! Revise suas escolhas.`,o.className="mensagem perigo",a.style.color="#ef4444"):n>i*.75&&n<=i?(o.textContent="‚úÖ Lanche Perfeito! Voc√™ est√° no alvo de calorias.",o.className="mensagem sucesso",a.style.color="#4ade80"):(o.textContent=`üëç Continue adicionando! Voc√™ est√° com ${n} kcal.`,o.className="mensagem alerta",a.style.color="#fde047")}
